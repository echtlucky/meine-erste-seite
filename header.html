<header class="site-header" role="banner">
  <!-- Left -->
  <div class="header-left">
    <div class="header-groups">
      <button
        id="groupsToggle"
        class="nav-icon-btn"
        type="button"
        aria-label="Gruppen"
        aria-haspopup="menu"
        aria-expanded="false"
      >
        <span class="nav-icon" aria-hidden="true">&#128101; ▾</span>
      </button>
      <div id="groupsMenu" class="dropdown-menu groups-menu" role="menu" aria-label="Gruppen"></div>
    </div>

    <a href="index.html" class="logo" aria-label="echtlucky Home">
      echtlcky
      <span class="logo-glow" aria-hidden="true"></span>
    </a>
  </div>

  <!-- Center / Nav -->
  <nav id="mainNav" class="header-nav" aria-label="Hauptnavigation">
    <div class="nav-links">
      <a href="index.html">Home</a>
      <div class="nav-dropdown" data-nav-dropdown>
        <button
          id="hubToggle"
          class="nav-link-btn"
          type="button"
          aria-haspopup="menu"
          aria-expanded="false"
        >
          HUB <span class="chev" aria-hidden="true">▾</span>
        </button>
        <div id="hubMenu" class="dropdown-menu hub-menu" role="menu" aria-label="Hub">
          <a href="ranked.html" class="dropdown-item" role="menuitem">Ranked</a>
          <a href="stats.html" class="dropdown-item" role="menuitem">Stats</a>
          <a href="focus.html" class="dropdown-item" role="menuitem">Focus</a>
          <a href="fonts.html" class="dropdown-item" role="menuitem">Schriftgenerator</a>
          <a href="reflex.html" class="dropdown-item" role="menuitem">Reflex Lab</a>
        </div>
      </div>
      <a href="blog.html">Blog</a>
    </div>
  </nav>

  <!-- Right / Account -->
  <div class="header-right">
    <!-- Live/Connect Button -->
    <a href="connect.html" class="nav-live" id="connectNav" aria-label="Connect - Community">
      <span class="live-dot" aria-hidden="true"></span>
      <span class="live-text">Connect</span>
    </a>

    <!-- Logged out -->
    <a href="login.html" id="login-link" class="nav-auth">Anmelden</a>

    <!-- Logged in -->
    <div class="user-dropdown-wrapper">
      <!-- ✅ Button statt Span: bessere UX (cursor/hover/click) -->
      <button
        id="user-name-display"
        class="user-name"
        type="button"
        aria-haspopup="menu"
        aria-expanded="false"
        style="display:none;"
      >
        <span class="user-dot" aria-hidden="true"></span>
        <span class="user-name-text">User</span>
        <span class="chev" aria-hidden="true">▾</span>
      </button>

      <div id="dropdown-menu" class="dropdown-menu" role="menu" aria-label="Account Menü">
        <a href="account.html" class="dropdown-item" role="menuitem">Konto verwalten</a>

        <a
          href="admin-panel.html"
          class="dropdown-item admin-panel"
          id="admin-panel-link"
          role="menuitem"
          style="display:none;"
        >
          Admin Panel
        </a>

        <div class="dropdown-sep" aria-hidden="true"></div>

        <a href="#" class="dropdown-item logout" role="menuitem" onclick="logout(); return false;">
          Ausloggen
        </a>
      </div>
    </div>

    <!-- Mobile toggle -->
    <button
      class="menu-toggle"
      id="menuToggle"
      aria-label="Menü öffnen"
      aria-controls="mainNav"
      aria-expanded="false"
      type="button"
    >
      <span class="burger" aria-hidden="true"></span>
    </button>
  </div>
</header>
