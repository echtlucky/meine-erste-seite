<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ranked Challenge | echtlucky</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/components.css" />
  <link rel="stylesheet" href="css/pages/ranked.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body class="page-transition ranked-page">
  <div id="header-placeholder"></div>
  <main class="ranked-shell">
    <div class="ranked-feedback-banner">
      <span>Ranked-Feedback:</span>
      <strong>Bronze → Unreal</strong> (heute: <span class="feedback-percent">73%</span> Erfolgsquote)
    </div>
    <header class="ranked-sticky-header">
      <div>
        <p class="ranked-header-label">Current Rank</p>
        <h1 class="ranked-header-rank">Unreal</h1>
      </div>
      <div class="ranked-header-meta">
        <div>
          <span class="ranked-header-meta__label">XP</span>
          <strong>18.450</strong>
        </div>
        <div>
          <span class="ranked-header-meta__label">Level</span>
          <strong>24</strong>
        </div>
        <div>
          <span class="ranked-header-meta__label">Next Milestone</span>
          <strong>Mythic</strong>
        </div>
      </div>
      <div class="ranked-header-progress">
        <div class="ranked-progress__bar" aria-hidden="true"></div>
        <span class="ranked-progress__meta">+12% vs gestern</span>
      </div>
    </header>

    <div class="ranked-grid">
      <section class="ranked-column ranked-column--left">
        <article class="ranked-card stats-card">
          <header class="ranked-card__head">
            <div>
              <p class="ranked-card__title">Skill Stats</p>
              <p class="ranked-card__hint">Aim, Gamesense &amp; Consistency in Echtzeit</p>
            </div>
            <button class="btn btn-ghost btn-sm focus-toggle" type="button">
              <i class="fa-solid fa-eye"></i>
              Focus-Mode
              <span class="focus-toggle__state">Off</span>
            </button>
          </header>
          <div class="skill-grid" data-role="skill-grid"></div>
        </article>

        <article class="ranked-card streak-card">
          <header class="ranked-card__head">
            <div>
              <p class="ranked-card__title">Streak Timeline</p>
              <p class="ranked-card__hint">Deine Serie bleibt sichtbar, egal was du machst</p>
            </div>
            <button class="btn btn-ghost btn-sm" type="button">Reset-History</button>
          </header>
          <div class="streak-timeline" data-role="streak-timeline"></div>
          <p class="streak-note">Spiele deine Daily, damit du den Fortschritt behältst. Bonus-XP nach 5 Tagen.</p>
        </article>

        <article class="ranked-card rank-card">
          <p class="ranked-card__title">Rank Progress</p>
          <div class="ranked-progress rank-progress--compact">
            <div class="ranked-progress__bar" style="width: 68%;"></div>
          </div>
          <p class="ranked-card__hint">Bronze → Steel → Unreal (nächste Stufe: Mythic)</p>
        </article>
      </section>

      <section class="ranked-column ranked-column--middle">
        <article class="ranked-card daily-card">
          <header class="ranked-card__head">
            <div>
              <p class="ranked-card__title">Daily Grind</p>
              <p class="ranked-card__hint">3 Tasks pro Tag · hydrate, warm-up, repeat</p>
            </div>
            <span class="tag tag-primary">Auto Saved</span>
          </header>
          <div class="daily-progress">
            <div class="ranked-progress daily-progress-bar">
              <div class="ranked-progress__bar" data-role="daily-progress"></div>
            </div>
            <div class="daily-progress__meta">
              <span class="daily-progress-count">0 / 3</span>
              <span class="daily-progress-xp">+0 XP</span>
            </div>
          </div>
          <div class="daily-task-list"></div>
          <div class="daily-actions">
            <button class="btn btn-primary" data-action="complete-day" type="button"><i class="fa-solid fa-check"></i> Complete Day</button>
            <button class="btn btn-ghost" data-action="reroll" type="button"><i class="fa-solid fa-dice"></i> Reroll</button>
            <button class="btn btn-ghost" data-action="reset" type="button"><i class="fa-solid fa-rotate"></i> Reset</button>
          </div>
        </article>
        <article class="ranked-card weekly-card">
          <header class="ranked-card__head">
            <div>
              <p class="ranked-card__title">Weekly Challenges</p>
              <p class="ranked-card__hint">Bonus-XP Track + Notes</p>
            </div>
            <span class="tag tag-primary">+25% XP</span>
          </header>
          <div class="weekly-progress">
            <div class="ranked-progress weekly-progress-bar">
              <div class="ranked-progress__bar" data-role="weekly-progress"></div>
            </div>
            <p class="weekly-progress-label">Bonus-XP Track: <span class="weekly-progress-percent">0%</span></p>
          </div>
          <div class="weekly-list" data-role="weekly-list"></div>
          <div class="challenge-note">
            <textarea data-role="weekly-notes" placeholder="Notizen pro Challenge – z.B. Temperatur, Audio-Einstellungen, Partner"></textarea>
          </div>
        </article>

        <article class="ranked-card monthly-card">
          <header class="ranked-card__head">
            <div>
              <p class="ranked-card__title">Monats-Progress</p>
              <p class="ranked-card__hint">Progressbar + Summary</p>
            </div>
            <span class="tag tag-outline">Compare Yesterday</span>
          </header>
          <div class="monthly-progress">
            <div class="monthly-progress__bar">
              <div class="monthly-progress__fill" data-role="monthly-progress" style="width: 54%;"></div>
            </div>
            <p class="monthly-progress-summary">
              Today vs Yesterday: <strong data-role="monthly-delta">+3.1%</strong> | Streak: <strong data-role="monthly-streak">14 Tage</strong>
            </p>
          </div>
          <div class="daily-difficulty">
            <span>Schwierigkeit</span>
            <div class="difficulty-buttons">
              <button class="btn btn-ghost btn-sm active">Easy</button>
              <button class="btn btn-ghost btn-sm">Normal</button>
              <button class="btn btn-ghost btn-sm">Hard</button>
            </div>
          </div>
        </article>

        <article class="ranked-card compare-card">
          <header class="ranked-card__head">
            <div>
              <p class="ranked-card__title">Compare Yesterday</p>
              <p class="ranked-card__hint">Größere View für heute vs. gestern</p>
            </div>
            <span class="tag tag-secondary">+8%</span>
          </header>
          <div class="compare-grid">
            <div>
              <p>Heute</p>
              <strong data-role="compare-today">+12 XP</strong>
            </div>
            <div>
              <p>Gestern</p>
              <strong data-role="compare-yesterday">+4 XP</strong>
            </div>
            <div>
              <p>Δ</p>
              <strong data-role="compare-delta">+8 XP</strong>
            </div>
          </div>
        </article>
      </section>

      <section class="ranked-column ranked-column--right">
        <article class="ranked-card history-card">
          <header class="ranked-card__head">
            <div>
              <p class="ranked-card__title">Match History</p>
              <p class="ranked-card__hint">Letzte 10 Sessions</p>
            </div>
            <button class="btn btn-ghost btn-sm" type="button">Heatmap öffnen</button>
          </header>
          <ul class="history-list" data-role="history-list"></ul>
        </article>

        <article class="ranked-card heatmap-card">
          <header class="ranked-card__head">
            <p class="ranked-card__title">Performance-Heatmap</p>
          </header>
          <div class="heatmap-grid" data-role="heatmap-grid"></div>
          <p class="heatmap-note">Beste Zeiten: 20:00–23:00 | 42% Win-Rate</p>
        </article>

        <article class="ranked-card badges-card">
          <header class="ranked-card__head">
            <div>
              <p class="ranked-card__title">Badges &amp; Achievements</p>
              <p class="ranked-card__hint">7 / 30 / 100 Streak</p>
            </div>
            <span class="tag tag-primary">Badge-Feed</span>
          </header>
          <div class="badges-grid" data-role="badges-grid"></div>
        </article>

        <article class="ranked-card future-card">
          <header class="ranked-card__head">
            <div>
              <p class="ranked-card__title">Future Preview</p>
              <p class="ranked-card__hint">Plan für Morgen &amp; Woche</p>
            </div>
            <button class="btn btn-ghost btn-sm" type="button">Add Notes</button>
          </header>
          <div class="future-grid">
            <p>Morgen: Warm-Up Run + Aim Drills</p>
            <p>Woche: 3 Ranked Matches + 1 Review</p>
          </div>
        </article>
      </section>
    </div>

    <button class="floating-add-session" type="button">
      <i class="fa-solid fa-plus"></i>
      Add Session
    </button>

    <div class="skeleton-loader">
      <div class="skeleton-line"></div>
      <div class="skeleton-line"></div>
      <div class="skeleton-line"></div>
    </div>
  </main>
  <div id="footer-placeholder"></div>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore-compat.js"></script>
  <script src="firebase.js"></script>
  <script src="js/auth-state.js"></script>
  <script src="js/menu.js"></script>
  <script src="js/legal-modal.js"></script>
  <script src="js/ranked.js"></script>
  <script src="js/notify.js"></script>
  <script src="js/modal-dialog.js"></script>
  <script>
    document.body.classList.add('loaded');
    fetch('header.html')
      .then(r => r.text())
      .then(html => {
        document.getElementById('header-placeholder').innerHTML = html;
        if (typeof initHeaderScripts === "function") initHeaderScripts();
        if (typeof initSmartHeaderScroll === "function") initSmartHeaderScroll();
      });

    fetch('footer.html')
      .then(r => r.text())
      .then(html => {
        document.getElementById('footer-placeholder').innerHTML = html;
      });
  </script>
</body>
</html>
