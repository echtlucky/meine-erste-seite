<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Connect | echtlucky</title>

  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/pages/connect.css" />
</head>

<body class="page-transition connect-page">

<!-- =====================================================
     HEADER
===================================================== -->
<div id="header-placeholder"></div>

<!-- =====================================================
     MAIN WRAPPER
===================================================== -->
<main class="connect-wrap">

  <!-- =====================================================
       HERO / INTRO
  ====================================================== -->
  <section class="connect-hero">
    <div>
      <div class="connect-badge">âš¡ echtlucky â€¢ Connect</div>
      <h1 class="connect-title">Community. Fokus. Realtime.</h1>
      <p class="connect-sub">
        Connect ist dein zentrales Interface fÃ¼r Austausch, Fokus,
        Live-Chat, Groups und Presence.  
        Klar strukturiert. Kein Chaos. Kein Noise.
      </p>
    </div>

    <div class="connect-heroActions">
      <button class="btn btn-ghost" id="btnSetActivity">Activity</button>
      <button class="btn btn-primary" id="btnCreateGroup">Neue Group</button>
    </div>
  </section>

  <!-- =====================================================
       LOGIN GATE
  ====================================================== -->
  <section class="connect-gate" id="loginGate">
    <div class="gate-card">
      <h2 class="gate-title">Members only âœ‹</h2>
      <p class="gate-text">
        Ã–ffentliche Inhalte sind sichtbar.  
        Chat, Presence & Interaktion nur mit Account.
      </p>
      <div class="gate-actions">
        <a href="login.html" class="btn btn-primary">Anmelden</a>
        <a href="login.html" class="btn btn-secondary">Account erstellen</a>
      </div>
    </div>
  </section>

  <!-- =========================
       CONNECT VIEWS
  ========================= -->

  <section class="connect-views">

  <!-- CHAT VIEW -->
  <div class="connect-view is-active" data-view="chat">
    <!-- =====================================================
         CONNECT APP (ADMIN PANEL LAYOUT)
    ====================================================== -->
    <section class="connect-app" id="connectApp">

      <!-- =================================================
           LEFT SIDEBAR / NAVIGATION
      ================================================== -->
      <aside class="pane pane-left">

        <div class="pane-head">
          <div>
            <div class="pane-title">Connect</div>
            <div class="pane-hint">User Interface</div>
          </div>
        </div>

        <nav class="connect-nav">
          <a class="nav-item is-active" data-view="chat">ğŸ’¬ Live Chat</a>
          <a class="nav-item" data-view="discover">ğŸ§­ Discover</a>
          <a class="nav-item">â­ Favoriten</a>
          <a class="nav-item" data-view="stats">ğŸ“Š Community Stats</a>
          <a class="nav-item">ğŸ§  Fokus Sessions</a>
          <a class="nav-item" data-view="profile">ğŸ‘¤ Profil</a>
          <a class="nav-item" data-view="settings">âš™ Einstellungen</a>
          <a class="nav-item" data-view="help">â“ Hilfe</a>
        </nav>

        <div class="nav-divider"></div>

        <!-- GROUPS -->
        <div class="pane-head">
          <div>
            <div class="pane-title">Groups</div>
            <div class="pane-hint">Public & Private</div>
          </div>
          <button class="icon-btn" id="btnRefreshGroups">âŸ³</button>
        </div>

        <div class="group-search">
          <input id="groupSearch" placeholder="Groups durchsuchenâ€¦" />
        </div>

        <div class="group-list" id="groupList"></div>

        <div class="pane-foot">
          <div class="me-chip">
            <span class="me-dot" id="meDot"></span>
            <span class="me-name" id="meName">Gast</span>
          </div>
          <button class="btn btn-ghost btn-sm" id="btnLogout">Logout</button>
        </div>
      </aside>

      <!-- =================================================
           MAIN CHAT AREA
      ================================================== -->
      <section class="pane pane-mid">

        <div class="pane-head">
          <div>
            <div class="pane-title" id="chatTitle">Keine Group gewÃ¤hlt</div>
            <div class="pane-hint" id="chatHint">
              WÃ¤hle links eine Group oder entdecke neue Communities.
            </div>
          </div>
          <div class="pane-head-actions">
            <button class="btn btn-ghost btn-sm" id="btnStartVoiceCall" title="Voice Chat starten">
              ğŸ¤ Voice
            </button>
            <button class="btn btn-ghost btn-sm" id="btnJoinLeave" disabled>
              Join
            </button>
          </div>
        </div>

        <!-- Voice Call Panel -->
        <div class="voice-call-panel" id="voiceCallPanel">
          <div class="voice-status">
            <div class="voice-indicator">
              <span class="voice-pulse"></span>
              <span id="voiceStatus">Verbindung wird hergestellt...</span>
            </div>
            <div class="voice-participants" id="voiceParticipants"></div>
          </div>
          <div class="voice-controls">
            <button class="voice-btn voice-btn--mute" id="btnToggleMic" title="Mikrofon stummschalten">
              ğŸ¤
            </button>
            <button class="voice-btn voice-btn--hang-up" id="btnEndVoiceCall" title="Anruf beenden">
              â˜ï¸ Beenden
            </button>
          </div>
        </div>

        <div class="chat-scroll" id="chatScroll"></div>

        <div class="typing-indicator" id="typingIndicator"></div>

        <form class="chat-compose" id="chatForm">
          <input
            type="text"
            id="chatInput"
            class="chat-input"
            placeholder="Nachricht schreibenâ€¦"
            disabled
          />
          <button class="btn btn-primary btn-sm" type="submit" disabled>
            Senden
          </button>
        </form>
      </section>

      <!-- =================================================
           RIGHT SIDEBAR / MEMBERS + INFO
      ================================================== -->
      <aside class="pane pane-right">

        <div class="pane-head">
          <div>
            <div class="pane-title">Members</div>
            <div class="pane-hint" id="membersHint">â€”</div>
          </div>
        </div>

        <div class="member-list" id="memberList"></div>

        <div class="pane-section">
          <h3>â„¹ï¸ Group Infos</h3>
          <p>
            Groups sind fokussierte RÃ¤ume.
            Keine globalen Channels, kein LÃ¤rm.
          </p>
        </div>

        <div class="pane-section">
          <h3>ğŸŸ¢ Presence</h3>
          <p>
            Online, Idle oder Offline â€“  
            browserbasiert & transparent.
          </p>
        </div>

        <p class="mini-note">
          Presence basiert auf Browser-Events (â€best effortâ€œ).
        </p>
      </aside>

    </section>
  </div>

  <!-- DISCOVER -->
  <div class="connect-view" data-view="discover">
    <section class="connect-section">
      <h2>ğŸ§­ Discover Groups</h2>
      <p>Entdecke neue Communities nach AktivitÃ¤t & Thema.</p>

      <div class="card-grid">
        <div class="card">
          <h3>Valorant Ranked</h3>
          <p>Competitive Fokus Â· EU</p>
        </div>
        <div class="card">
          <h3>Deep Focus</h3>
          <p>Pomodoro Â· stille Sessions</p>
        </div>
        <div class="card">
          <h3>Dev Talk</h3>
          <p>Web Â· Firebase Â· Frontend</p>
        </div>
      </div>
    </section>
  </div>

  <!-- STATS -->
  <div class="connect-view" data-view="stats">
    <section class="connect-section">
      <h2>ğŸ“Š Community Stats</h2>

      <div class="stats-grid">
        <div class="stat-card">
          <strong>128</strong>
          <span>Aktive Groups</span>
        </div>
        <div class="stat-card">
          <strong>842</strong>
          <span>Online User</span>
        </div>
        <div class="stat-card">
          <strong>24k+</strong>
          <span>Messages</span>
        </div>
      </div>
    </section>
  </div>

  <!-- PROFILE -->
  <div class="connect-view" data-view="profile">
    <section class="connect-section">
      <h2>ğŸ‘¤ Dein Profil</h2>

      <div class="profile-card">
        <p><strong>Status:</strong> Online</p>
        <p><strong>Activity:</strong> In Focus Session</p>
        <p><strong>Groups:</strong> 6</p>
      </div>
    </section>
  </div>

  <!-- SETTINGS -->
  <div class="connect-view" data-view="settings">
    <section class="connect-section">
      <h2>âš™ Einstellungen</h2>
      <ul>
        <li>Presence anzeigen</li>
        <li>Activity Ã¶ffentlich</li>
        <li>Benachrichtigungen</li>
        <li>Dark Mode (default)</li>
      </ul>
    </section>
  </div>

  <!-- HELP -->
  <div class="connect-view" data-view="help">
    <section class="connect-section">
      <h2>â“ Hilfe & Regeln</h2>
      <p>Respekt, Fokus, kein Spam.</p>
    </section>
  </div>

  </section>

  <!-- =====================================================
       ROADMAP
  ====================================================== -->
  <section class="connect-section">
    <h2>ğŸ—º Roadmap</h2>
    <ul>
      <li>â­ Favoriten & Pins</li>
      <li>ğŸ”¥ Message Reactions</li>
      <li>ğŸ“Œ Pinned Messages</li>
      <li>ğŸ›¡ Moderation Tools</li>
      <li>ğŸ§  Fokus-Timer</li>
    </ul>
  </section>

</main>

<!-- =====================================================
     FOOTER
===================================================== -->
<div id="footer-placeholder"></div>

<!-- =====================================================
     SCRIPTS
===================================================== -->
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore-compat.js"></script>

<script src="firebase.js"></script>
<script src="js/menu.js"></script>
<script src="js/notify.js"></script>
<script src="js/connect.js"></script>
<script src="js/voice-chat.js"></script>

<script>
  document.body.classList.add("loaded");

  fetch("header.html").then(r=>r.text()).then(html=>{
    document.getElementById("header-placeholder").innerHTML = html;
    initHeaderScripts?.();
    initSmartHeaderScroll?.();
  });

  fetch("footer.html").then(r=>r.text()).then(html=>{
    document.getElementById("footer-placeholder").innerHTML = html;
  });
</script>

</body>
</html>
