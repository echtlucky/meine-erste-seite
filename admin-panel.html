<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel | echtlucky</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="css/pages/admin-panel.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>
  <body class="page-transition admin-page">
    <div id="header-placeholder"></div>

    <main class="admin-main">
      <div class="admin-shell">
        <aside class="admin-sidebar" aria-label="Logs">
          <section class="admin-sidebar-card">
            <div class="admin-sidebar-card__head">
              <h2 class="admin-sidebar-card__title">üßæ Logs</h2>
              <div class="pill" id="adminStatus">Wird √ºberpr√ºft...</div>
            </div>
            <div id="logs-list" class="admin-logs-list"></div>
          </section>
        </aside>

        <section class="admin-content" aria-label="Admin Inhalte">
          <section class="admin-hero">
            <div class="admin-hero__left">
              <div class="admin-hero__icon" aria-hidden="true">
                <i class="fa-solid fa-gear"></i>
              </div>
              <div>
                <div class="admin-hero__title">Admin Panel</div>
                <div class="admin-hero__sub">Management, Moderation & Statistiken</div>
              </div>
            </div>
          </section>

          <nav class="admin-nav" aria-label="Admin Navigation">
            <button class="btn btn-secondary admin-nav__btn is-active" data-tab="blog" type="button">
              <i class="fa-solid fa-blog" aria-hidden="true"></i> Blog
            </button>
            <button class="btn btn-secondary admin-nav__btn" data-tab="users" type="button">
              <i class="fa-solid fa-users" aria-hidden="true"></i> Benutzer
            </button>
            <button class="btn btn-secondary admin-nav__btn" data-tab="bans" type="button">
              <i class="fa-solid fa-ban" aria-hidden="true"></i> Bans
            </button>
            <button class="btn btn-secondary admin-nav__btn" data-tab="stats" type="button">
              <i class="fa-solid fa-chart-line" aria-hidden="true"></i> Statistiken
            </button>
            <button class="btn btn-secondary admin-nav__btn" data-tab="settings" type="button">
              <i class="fa-solid fa-gear" aria-hidden="true"></i> Einstellungen
            </button>
          </nav>

          <section class="admin-tabs">
            <div class="admin-tab" data-tab="blog">
              <div class="admin-card">
                <div class="admin-card__header">
                  <h2 class="admin-card__title">üìù Blog verwalten</h2>
                  <button class="btn btn-primary" id="newPostBtn" type="button">
                    <i class="fa-solid fa-plus" aria-hidden="true"></i> Neuer Beitrag
                  </button>
                </div>
                <div id="post-list" class="admin-list"></div>
              </div>
            </div>

            <div class="admin-tab" data-tab="users" style="display:none;">
              <div class="admin-card">
                <div class="admin-card__header">
                  <h2 class="admin-card__title">üë• Benutzer verwalten</h2>
                </div>
                <div id="user-list" class="admin-list"></div>
              </div>
            </div>

            <div class="admin-tab" data-tab="bans" style="display:none;">
              <div class="admin-card">
                <div class="admin-card__header">
                  <h2 class="admin-card__title">‚õî Gesperrte Nutzer</h2>
                </div>
                <div class="admin-ban-form">
                  <input type="email" id="ban-email" class="admin-input" placeholder="user@example.com" />
                  <input type="text" id="ban-reason" class="admin-input" placeholder="Grund f√ºr Ban (optional)" />
                  <button class="btn btn-danger" id="banAddBtn" type="button">
                    <i class="fa-solid fa-ban" aria-hidden="true"></i> Bannen
                  </button>
                </div>
                <div id="ban-list" class="admin-list"></div>
              </div>
            </div>

            <div class="admin-tab" data-tab="stats" style="display:none;">
              <div class="admin-card">
                <div class="admin-card__header">
                  <h2 class="admin-card__title">üìä √úbersicht</h2>
                </div>
                <div class="admin-stats">
                  <div class="admin-stat">
                    <span class="admin-stat__label">Nutzer</span>
                    <span class="admin-stat__value" id="stat-total-users">0</span>
                  </div>
                  <div class="admin-stat">
                    <span class="admin-stat__label">Blog-Posts</span>
                    <span class="admin-stat__value" id="stat-total-posts">0</span>
                  </div>
                  <div class="admin-stat">
                    <span class="admin-stat__label">Bans</span>
                    <span class="admin-stat__value" id="stat-total-bans">0</span>
                  </div>
                </div>

                <div class="admin-card__subhead">
                  <h3 class="admin-card__subtitle">Aktivit√§t</h3>
                </div>
                <div id="activity-list" class="admin-activity"></div>
              </div>
            </div>

            <div class="admin-tab" data-tab="settings" style="display:none;">
              <div class="admin-card">
                <div class="admin-card__header">
                  <h2 class="admin-card__title">‚öôÔ∏è Einstellungen</h2>
                </div>
                <div class="admin-settings">
                  <div class="admin-settings-group">
                    <h3>üí¨ Blog</h3>
                    <div class="admin-setting">
                      <label>
                        <input type="checkbox" id="enable-blog" checked /> Blog aktivieren
                      </label>
                    </div>
                  </div>
                  <div class="admin-settings-actions">
                    <button class="btn btn-primary" id="saveSettingsBtn" type="button">Speichern</button>
                    <button class="btn btn-ghost" id="resetSettingsBtn" type="button">Zur√ºcksetzen</button>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </section>
      </div>
    </main>

    <!-- New Post Modal -->
    <div id="newPostModal" class="admin-modal" aria-hidden="true">
      <div class="admin-modal__panel">
        <button class="admin-modal__close" id="closeNewPostModal" type="button" aria-label="Schlie√üen">√ó</button>
        <div class="admin-modal__head">
          <h2 class="admin-modal__title">üìù Neuen Beitrag erstellen</h2>
        </div>
        <div class="admin-field">
          <label for="new-title">Titel</label>
          <input type="text" id="new-title" class="admin-input" placeholder="Beitrag-Titel eingeben..." />
        </div>
        <div class="admin-field">
          <label for="new-content">Inhalt</label>
          <textarea id="new-content" class="admin-input admin-textarea" rows="10" placeholder="Schreibe deinen Beitrag hier..."></textarea>
        </div>
        <div class="admin-field">
          <label for="new-date">Ver√∂ffentlichungsdatum</label>
          <input type="date" id="new-date" class="admin-input" />
        </div>
        <div class="admin-modal__actions">
          <button class="btn btn-ghost" id="cancelPublishBtn" type="button">Abbrechen</button>
          <button class="btn btn-primary" id="publishBtn" type="button">
            <i class="fa-solid fa-paper-plane" aria-hidden="true"></i> Ver√∂ffentlichen
          </button>
        </div>
      </div>
    </div>

    <div id="footer-placeholder"></div>

    <script defer src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/10.14.1/firebase-auth-compat.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore-compat.js"></script>

    <script src="firebase.js"></script>
    <script src="js/auth-state.js"></script>
    <script src="js/menu.js"></script>
    <script src="js/legal-modal.js"></script>
    <script src="js/notify.js"></script>
    <script src="js/modal-dialog.js"></script>
    <script src="js/admin-panel.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        document.body.classList.add("loaded");

        fetch("header.html").then(r => r.text()).then(html => {
          document.getElementById("header-placeholder").innerHTML = html;
          if (typeof initHeaderScripts === "function") initHeaderScripts();
          if (typeof initSmartHeaderScroll === "function") initSmartHeaderScroll();
        }).catch(() => {});

        fetch("footer.html").then(r => r.text()).then(html => {
          document.getElementById("footer-placeholder").innerHTML = html;
        }).catch(() => {});
      });
    </script>
  </body>
</html>

